# 📊 PE估值计算器

一个基于PE估值法的美股个股投资分析工具，帮助投资者快速分析股票的合理价格区间。

## 🎯 功能特点

- **自动数据获取**: 通过Yahoo Finance API获取股票历史价格和EPS数据
- **PE区间计算**: 基于历史数据计算滚动PE区间和统计指标
- **前瞻估值分析**: 结合前瞻EPS预测给出未来估值范围
- **可视化图表**: 提供直观的PE趋势图和估值分析图
- **参数调整**: 支持手动调整PE区间和EPS数值
- **多格式导出**: 支持CSV、Markdown报告和PNG图表导出

## 🛠️ 技术栈

- **前端界面**: Streamlit
- **数据获取**: yfinance
- **数据处理**: pandas, numpy
- **可视化**: plotly
- **网页解析**: BeautifulSoup4

## 📦 安装说明

1. 克隆或下载项目到本地
2. 安装Python依赖包：

```bash
pip install -r requirements.txt
```

## 🚀 使用方法

1. 启动应用：

```bash
streamlit run main.py
```

2. 在浏览器中打开显示的本地地址（通常是 http://localhost:8501）

3. 在侧边栏输入美股代码（如 NVDA, AAPL, GOOGL）

4. 点击"获取数据"按钮开始分析

5. 根据需要调整PE区间和前瞻EPS数值

6. 点击"重新计算估值"获得更新结果

7. 使用导出功能保存分析结果

## 📊 分析方法

### PE区间计算
- 使用过去12个月的每日股价数据
- 计算每日PE值（股价 ÷ TTM EPS）
- 采用"均值 ± 1标准差"作为PE区间
- 提供完整的统计指标（均值、中位数、标准差等）

### 前瞻估值
- 支持未来三年EPS预测
- 计算公式：估值 = PE区间 × 前瞻EPS
- 提供估值下限、上限和中位值
- 支持手动调整所有参数

## 📁 项目结构

```
估值计算/
├── main.py              # 主程序文件
├── requirements.txt     # 依赖包列表
└── README.md           # 项目说明
```

## 📈 使用示例

以NVDA为例的分析结果：

| 财年 | 前瞻EPS | PE区间 | 估值范围 |
|------|---------|--------|----------|
| 2025 | $2.65 | 36.96–45.35 | $97.95 – $120.18（中位：$109.07） |
| 2026 | $3.53 | 36.96–45.35 | $130.52 – $159.12（中位：$145.30） |
| 2027 | $4.12 | 36.96–45.35 | $152.35 – $186.82（中位：$169.58） |

## ⚠️ 重要声明

- 本工具仅供投资分析参考，不构成投资建议
- PE估值法有其局限性，建议结合其他分析方法
- 前瞻EPS预测存在不确定性，请谨慎使用
- 投资有风险，决策需谨慎

## 🔄 更新日志

### v1.0.0 (2024-12-20)
- 初始版本发布
- 实现基础PE估值计算功能
- 支持数据获取、可视化和导出
- 提供参数调整和重新计算功能

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件反馈

---

**免责声明**: 本工具仅用于教育和研究目的，使用者应自行承担投资风险。